# Обработчик событий \(Eventor\)

Виджет Обработчик событий позволяет создавать простые правила поведения или **события**. Давайте рассмотрим типичный вариант использования: считывание температуры с датчика DHT и отправка push-уведомления, когда температура превышает определенный предел:

```cpp
  float t = dht.readTemperature();
  if (isnan(t)) {
    return;
  }
  if (t > 40) {
    Blynk.notify(String("Температура слишком высокая: ") + t);
  }
```

С Обработчиком событий вам не нужно писать этот код. Все, что вам нужно, это отправить значение с датчика на сервер Blynk:

```cpp
  float t = dht.readTemperature();
  Blynk.virtualWrite(V0, t);
```

Не забывайте, что команды `virtualWrite` должны быть заключены в таймер и не должны использоваться в основном цикле `loop`.

**ПРИМЕЧАНИЕ:** Не забудьте добавить виджет уведомлений в приложении.

Обработчик событий пригодится вам, когда нужно изменить условия на лету без повторной загрузки нового скетча на аппаратное обеспечение. Вы можете создать столько **событий**, сколько вам нужно. Обработчик событий также может быть запущен со стороны приложения. Вам просто нужно назначить виджет на тот же контакт, что и ваше событие в Обработчике событий. Обработчик событий не постоянно отправляет события. Давайте рассмотрим простой пример, как показано выше `if (temperature > 40) send notification`. Когда температура превышает 40 пороговых значений - отправляется уведомление. Если температура продолжает оставаться выше 40 никакие повторные действия не будут инициированы. Но если `temperature` опускается ниже порогового значения, а затем проходит его снова уведомление будет отправлено повторно \(для уведомлений Обработчика событий нет ограничения отправки в течение 5 секунд\).

Обработчик событий также поддерживает события таймера \(Timer\). Например, вы можете установить пин `V1` ON/HIGH в 21:00:00 каждую пятницу. В Обработчике событий вы можете назначить несколько таймеров на один и тот же пин, отправить любую строку/число, выбрать день и часовой пояс.

Чтобы удалить созданное **событие**, пожалуйста, используйте сдвиг пальцем по экрану. Вы также можете перенести последний элемент самого события.

**Пример кода:** [Обработчик событий](https://github.com/blynkkk/blynk-library/blob/master/examples/Widgets/Eventor/Eventor.ino)

**ПРИМЕЧАНИЕ:** Виджет таймера зависит от времени сервера, а не вашего телефона. Иногда время телефона может не соответствовать времени сервера.

**ПРИМЕЧАНИЕ:** события запускаются только один раз при выполнении условия. Это означитает что \[цепочка событий\] \([https://community.blynk.cc/t/eventor-behavior-bug-feature/20962](https://community.blynk.cc/t/eventor-behavior-bug-feature/20962)\) невозможна \(однако она может быть включена в коммерческой версии\).

