# notification

## Всплывающие уведомления \(Push Notifications\)

Виджет Push-уведомлений позволяет отправлять уведомления с вашего оборудования на ваше Android/iOS устройство. В настоящее время он также содержит три дополнительные опции:

* **Уведомлять, когда оборудование отключено** \(Notify when hardware offline\) - вы получите push-уведомление, если ваше оборудование отключилось.
* **Автономный период игнорирования** \(Offline Ignore Period\) - определяет, как долго оборудование может находиться в режиме ожидания \(после того, как оно отключилось\) перед отправкой уведомления.

В случае превышения периода ожидания будет отправлено уведомление «Аппаратное отключение». Вы не получите уведомление, если оборудование переподключится в течение указанного периода.

* **Приоритет** \(Priority\) - высокий \(high\) приоритет дает больше шансов, что ваше сообщение будет доставлено без задержек. См. более подробное объяснение [здесь](https://firebase.google.com/docs/cloud-messaging/concept-options#setting-the-priority-of-a-message).

**ПРЕДУПРЕЖДЕНИЕ**: высокий приоритет способствует большей разрядке батареи, по сравнению с обычными приоритетом уведомлений.

Пример кода:

```cpp
Blynk.notify("Привет, Blynk-еры! Мое оборудование может отправлять уведомления!");
```

Вы также можете использовать переменные/заполнители для имени устройства, который будет заменен с сервера именем вашего устройства:

```cpp
Blynk.notify("Привет, Blynk-еры! Мой {DEVICE_NAME} может отправлять уведомления!");
```

Ограничения:

* Максимально допустимая длина уведомления составляет 120 символов;
* Каждое устройство может отправлять только 1 уведомление каждые 5 секунд;

## Кодировка всплывающих уведомлений

Библиотека обрабатывает все строки как в кодировке UTF-8. Если вы столкнулись с проблемами, попробуйте отправить ваше сообщение на последовательный порт и посмотреть, работает ли оно \(терминал должен быть настроен на кодировку UTF-8\). Если так не работает, возможно, вам следует прочитать о поддержке кодировки UTF-8 вашего компилятора. Если работает, но ваше сообщение урезано - вам необходимо увеличить ограничение длины сообщения \(все символы UTF-8 потребляют как минимум вдвое больше байт информации\).

## Увеличение лимита длины уведомления

Вы можете увеличить максимальную длину сообщения, поместив строку \(до включения Blynk\) в верхнюю часть своего кода:

```cpp
#define BLYNK_MAX_SENDBYTES 256 // По умолчанию 128 байт
```

**Пример кода:** [Всплывающие уведомления](https://github.com/blynkkk/blynk-library/blob/master/examples/Widgets/PushNotification/PushNotification_Button/PushNotification_Button.ino)

