# Безопасность

Сервер Blynk имеет 5 открытых портов с разным уровнем безопасности.

* **80** - простое TCP-соединение до оборудования (без защиты)
* **8080** - простое TCP-соединение для оборудования на локальном сервере (без защиты)
* **443** - соединение SSL/TLS для мобильных приложений и оборудования с SSL шифрованием
* **9443** - соединение SSL / TLS для мобильных приложений на локальном сервере и оборудования с SSL шифрованием

Оборудование может выбрать подключение к 443 (9443) или 80 (8080), в зависимости от его совместимости.
Соединение между приложением и сервером всегда осуществляется через SSL/TLS шифрование, поэтому оно всегда защищено.
Соединение между оборудованием и сервером зависит от ваших аппаратных возможностей.
С локальным сервером Blynk тип соединения между оборудованием и сервером не так важен для безопасности, так как локальный сервер обычно размещается в локальной сети, поэтому злоумышленник не может перехватить трафик между оборудованием и сервером.

## Использование локального сервера Blynk

Для обеспечения максимальной безопасности вы можете [установить Blynk server локально](/#blynk-server) и ограничить доступ к вашей локальной сети, чтобы никто, кроме вас, не мог получить доступ к серверу. В этом случае все данные хранятся локально в пределах только вашей сети и не отправлятся через Интернет.

В случае локального сервера Blynk также нет необходимости защищать соединение между вашим оборудованием и сервером.
Это справедливо для подключения по Ethernet и частично для соединения по Wi-Fi. В случае с Wi-Fi вы должны использовать WPA/WPA2 (защищенный доступ к Wi-Fi) шифрование для защиты беспроводного трафика.

Алгоритмы WPA и WPA2 предлагают очень надежное шифрование, которое может защитить все данные, передаваемые по радиоканалу, при условии, что используется достаточно надежный пароль. Даже если ваши данные представляют собой обычный TCP/IP трафик, другой пользователь не сможет расшифровать захваченные пакеты. Тем не менее, убедитесь, что ваш пароль достаточно надежный, иначе единственным ограничивающим фактором для злоумышленника останется время.

## Использование SSL-шлюза

Большинство платформ не способны обрабатывать SSL протокол, поэтому они подключаются по 80 порту. Однако наш [сценарий шлюза](https://github.com/blynkkk/blynk-library/blob/master/scripts/blynk-ser.sh) можно использовать для добавления SSL уровня безопасности SSL к соединениям.

```bash
./blynk-ser.sh -f SSL
```

Этот скрипт перенаправит все аппаратные соединения с порта 9443 сервера через шлюз SSL. Вы можете запустить этот скрипт на своем Raspberry Pi, настольном компьютере или даже прямо на своем роутере!

**Примечание:** при использовании вашего собственного сервера вы должны перезаписать прилагаемый сертификат server.crt или указать его в сценарии с помощью ключа ```--cert```:

```bash
./blynk-ser.sh -f SSL -s <server ip> -p 9443 --cert=<certificate>.crt
```

Flag ```-f SSL``` is enabled by default for USB communication so you don't have to explicit declare it.

**Note:** SSL is supported by the gateway only on Linux/OSX for now

If you want to skip SSL, and connect to TCP, you can also do that:

Флаг ```-f SSL``` включен по умолчанию при соединении через USB, поэтому вам не нужно его явно объявлять.

**Примечание:** Пока SSL поддерживается шлюзом только в Linux/OSX.

Если вы хотите пропустить SSL и подключиться к TCP, вы также можете сделать так:

```bash
./blynk-ser.sh -t TCP
```
